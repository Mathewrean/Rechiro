{% extends 'base.html' %}

{% block title %}{{ title }}{% endblock %}

{% block content %}
<div class="min-h-screen bg-gray-50 py-8">
    <div class="container mx-auto px-4">
        <!-- Header Section -->
        <div class="text-center mb-8">
            <div class="inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-primary to-secondary rounded-full mb-4">
                <i class="fas fa-lock text-white text-2xl"></i>
            </div>
            <h1 class="text-4xl font-bold text-gray-800 mb-2">Change Password</h1>
            <p class="text-xl text-gray-600">Update your account security</p>
        </div>

        <!-- Main Content -->
        <div class="max-w-md mx-auto">
            <div class="bg-white rounded-2xl shadow-lg overflow-hidden">
                <div class="bg-gradient-to-r from-yellow-500 to-yellow-600 p-6">
                    <div class="flex items-center">
                        <i class="fas fa-shield-alt text-white text-2xl mr-3"></i>
                        <div>
                            <h2 class="text-white text-xl font-semibold">Security Update</h2>
                            <p class="text-yellow-100 text-sm">Keep your account safe and secure</p>
                        </div>
                    </div>
                </div>
                
                <div class="p-6">
                    <form method="post" class="space-y-6 form-panel">
                        {% csrf_token %}
                        
                        <div class="space-y-4">
                            <div>
                                <label for="{{ form.old_password.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">
                                    <i class="fas fa-key mr-1"></i>Current Password
                                </label>
                                <div class="relative">
                                    <input type="password" 
                                           id="{{ form.old_password.id_for_label }}"
                                           name="{{ form.old_password.name }}"
                                           class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-300 pl-10"
                                           placeholder="Enter your current password"
                                           required>
                                    <i class="fas fa-lock absolute left-3 top-3.5 text-gray-400"></i>
                                </div>
                                {% if form.old_password.errors %}
                                    <div class="mt-2 text-sm text-red-600">
                                        {% for error in form.old_password.errors %}
                                            <p class="flex items-center">
                                                <i class="fas fa-exclamation-circle mr-1"></i>{{ error }}
                                            </p>
                                        {% endfor %}
                                    </div>
                                {% endif %}
                            </div>
                            
                            <div>
                                <label for="{{ form.new_password1.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">
                                    <i class="fas fa-key mr-1"></i>New Password
                                </label>
                                <div class="relative">
                                    <input type="password" 
                                           id="{{ form.new_password1.id_for_label }}"
                                           name="{{ form.new_password1.name }}"
                                           class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-300 pl-10"
                                           placeholder="Enter your new password"
                                           required>
                                    <i class="fas fa-lock absolute left-3 top-3.5 text-gray-400"></i>
                                </div>
                                {% if form.new_password1.errors %}
                                    <div class="mt-2 text-sm text-red-600">
                                        {% for error in form.new_password1.errors %}
                                            <p class="flex items-center">
                                                <i class="fas fa-exclamation-circle mr-1"></i>{{ error }}
                                            </p>
                                        {% endfor %}
                                    </div>
                                {% endif %}
                            </div>
                            
                            <div>
                                <label for="{{ form.new_password2.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">
                                    <i class="fas fa-check-circle mr-1"></i>Confirm New Password
                                </label>
                                <div class="relative">
                                    <input type="password" 
                                           id="{{ form.new_password2.id_for_label }}"
                                           name="{{ form.new_password2.name }}"
                                           class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-300 pl-10"
                                           placeholder="Confirm your new password"
                                           required>
                                    <i class="fas fa-lock absolute left-3 top-3.5 text-gray-400"></i>
                                </div>
                                {% if form.new_password2.errors %}
                                    <div class="mt-2 text-sm text-red-600">
                                        {% for error in form.new_password2.errors %}
                                            <p class="flex items-center">
                                                <i class="fas fa-exclamation-circle mr-1"></i>{{ error }}
                                            </p>
                                        {% endfor %}
                                    </div>
                                {% endif %}
                            </div>
                        </div>
                        
                        {% if form.non_field_errors %}
                            <div class="bg-red-50 border-l-4 border-red-500 p-4 rounded-r-lg">
                                <div class="flex items-center">
                                    <i class="fas fa-exclamation-triangle text-red-500 mr-2"></i>
                                    <div class="text-red-700">
                                        {% for error in form.non_field_errors %}
                                            <p>{{ error }}</p>
                                        {% endfor %}
                                    </div>
                                </div>
                            </div>
                        {% endif %}
                        
                        <!-- Security Tips -->
                        <div class="bg-blue-50 border-l-4 border-blue-500 p-4 rounded-r-lg">
                            <h4 class="flex items-center text-blue-800 font-medium mb-2">
                                <i class="fas fa-info-circle mr-2"></i>Password Security Tips
                            </h4>
                            <ul class="text-blue-700 text-sm space-y-1">
                                <li>• Use at least 8 characters</li>
                                <li>• Include uppercase and lowercase letters</li>
                                <li>• Add numbers and special characters</li>
                                <li>• Avoid common words or personal information</li>
                            </ul>
                        </div>
                        
                        <div class="flex flex-col sm:flex-row gap-3 pt-4">
                            <a href="{% url 'users:profile' %}" 
                               class="flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 px-6 py-3 rounded-lg font-medium transition-all duration-300 text-center">
                                <i class="fas fa-arrow-left mr-2"></i>Cancel
                            </a>
                            <button type="submit" 
                                    class="flex-1 bg-gradient-to-r from-yellow-500 to-yellow-600 hover:from-yellow-600 hover:to-yellow-700 text-white px-6 py-3 rounded-lg font-medium transition-all duration-300 transform hover:scale-105">
                                <i class="fas fa-shield-alt mr-2"></i>Update Password
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
